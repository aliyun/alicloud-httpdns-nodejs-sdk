<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>HTTPDNS SDK Demo</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: white;
      margin: 0;
      padding: 0;
      height: 100vh;
      overflow: hidden;
    }

    .container {
      background: white;
      padding: 0;
      width: 100%;
      height: 100vh;
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }

    /* å¤´éƒ¨ */
    .header {
      padding: 20px 30px 15px;
      border-bottom: 2px solid #f0f0f0;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }

    h1 {
      color: white;
      text-align: center;
      font-size: 24px;
      margin: 0;
    }

    /* Tab å¯¼èˆª */
    .tabs {
      display: flex;
      background: #f8f9fa;
      border-bottom: 2px solid #e0e0e0;
      flex-shrink: 0;
    }

    .tab {
      flex: 1;
      padding: 14px 24px;
      border: none;
      background: transparent;
      color: #666;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      border-bottom: 3px solid transparent;
    }

    .tab:hover {
      background: #fff;
      color: #667eea;
    }

    .tab.active {
      background: white;
      color: #667eea;
      border-bottom-color: #667eea;
    }

    /* Tab å†…å®¹ */
    .tab-content {
      flex: 1;
      overflow-y: auto;
      padding: 25px 30px;
      background: #fafafa;
    }

    .tab-pane {
      display: none;
    }

    .tab-pane.active {
      display: block;
    }

    /* è¡¨å•æ ·å¼ */
    .form-group {
      margin-bottom: 20px;
    }

    .form-group label {
      display: block;
      margin-bottom: 8px;
      color: #555;
      font-weight: 500;
      font-size: 14px;
    }

    .form-group input[type="text"],
    .form-group input[type="number"],
    .form-group textarea {
      width: 100%;
      padding: 10px 14px;
      border: 2px solid #e0e0e0;
      border-radius: 6px;
      font-size: 14px;
      transition: border-color 0.3s;
      font-family: inherit;
    }

    .form-group input:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: #667eea;
    }

    .form-group textarea {
      resize: vertical;
      min-height: 80px;
    }

    .form-group .hint {
      display: block;
      margin-top: 4px;
      font-size: 12px;
      color: #999;
    }

    /* å¤é€‰æ¡†ç»„ */
    .checkbox-group {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
      margin-bottom: 20px;
    }

    .checkbox-item {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .checkbox-item input[type="checkbox"] {
      width: 18px;
      height: 18px;
      cursor: pointer;
    }

    .checkbox-item label {
      margin: 0;
      cursor: pointer;
      font-size: 14px;
      color: #555;
    }

    /* å•é€‰æ¡†ç»„ */
    .radio-group {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
    }

    .radio-item {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .radio-item input[type="radio"] {
      width: 18px;
      height: 18px;
      cursor: pointer;
    }

    .radio-item label {
      margin: 0;
      cursor: pointer;
      font-size: 14px;
      color: #555;
    }

    /* æŒ‰é’® */
    button {
      padding: 12px 24px;
      border: none;
      border-radius: 8px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      color: white;
    }

    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }

    button:active {
      transform: translateY(0);
    }

    button:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none !important;
    }

    .btn-primary {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }

    .btn-success {
      background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
    }

    .btn-danger {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    }

    .btn-secondary {
      background: linear-gradient(135deg, #a8a8a8 0%, #7f7f7f 100%);
    }

    .btn-full {
      width: 100%;
      margin-top: 10px;
    }

    .button-group {
      display: flex;
      gap: 15px;
      margin-top: 20px;
    }

    .button-group button {
      flex: 1;
    }

    /* ç»“æœæ˜¾ç¤º */
    .result-box {
      background: #f8f9fa;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      padding: 20px;
      min-height: 250px;
      max-height: 350px;
      overflow-y: auto;
      font-family: 'Courier New', monospace;
      font-size: 13px;
      line-height: 1.6;
      color: #333;
      white-space: pre-wrap;
      word-wrap: break-word;
      margin-top: 20px;
    }

    .result-box:empty::before {
      content: 'ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...';
      color: #999;
      font-style: italic;
    }

    .loading {
      text-align: center;
      color: #667eea;
      font-weight: 600;
    }

    .error {
      color: #f5576c;
      font-weight: 600;
    }

    .success {
      color: #28a745;
      font-weight: 600;
    }

    /* çŠ¶æ€æŒ‡ç¤ºå™¨ */
    .status-indicator {
      display: inline-block;
      padding: 4px 12px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 600;
      margin-left: 10px;
    }

    .status-indicator.ready {
      background: #d4edda;
      color: #155724;
    }

    .status-indicator.not-ready {
      background: #f8d7da;
      color: #721c24;
    }

    /* åˆ†éš”çº¿ */
    .divider {
      height: 1px;
      background: #e0e0e0;
      margin: 25px 0;
    }

    /* æ»šåŠ¨æ¡æ ·å¼ */
    .tab-content::-webkit-scrollbar,
    .result-box::-webkit-scrollbar {
      width: 8px;
    }

    .tab-content::-webkit-scrollbar-track,
    .result-box::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 4px;
    }

    .tab-content::-webkit-scrollbar-thumb,
    .result-box::-webkit-scrollbar-thumb {
      background: #888;
      border-radius: 4px;
    }

    .tab-content::-webkit-scrollbar-thumb:hover,
    .result-box::-webkit-scrollbar-thumb:hover {
      background: #555;
    }

    /* ä¸¤åˆ—å¸ƒå±€ */
    .two-columns {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
    }
  </style>
</head>

<body>
  <div class="container">
    <!-- å¤´éƒ¨ -->
    <div class="header">
      <h1>ğŸš€ HTTPDNS SDK Demo</h1>
    </div>

    <!-- Tab å¯¼èˆª -->
    <div class="tabs">
      <button class="tab active" onclick="switchTab('config')">é…ç½®ä¸åˆå§‹åŒ–</button>
      <button class="tab" onclick="switchTab('test')" id="testTab">åŠŸèƒ½æµ‹è¯•</button>
    </div>

    <!-- Tab å†…å®¹ -->
    <div class="tab-content">
      <!-- Tab 1: é…ç½®ä¸åˆå§‹åŒ– -->
      <div class="tab-pane active" id="configPane">
        <h3>SDK é…ç½®</h3>

        <div class="form-group">
          <label>Account ID *</label>
          <input type="text" id="accountId" value="" placeholder="è¾“å…¥æ‚¨çš„ Account ID">
        </div>

        <div class="form-group">
          <label>Secret Key</label>
          <input type="text" id="secretKey" value="" placeholder="è¾“å…¥æ‚¨çš„ Secret Keyï¼ˆå¯é€‰ï¼‰">
          <span class="hint">ç”¨äºé‰´æƒè§£æï¼Œå¯é€‰</span>
        </div>

        <div class="divider"></div>

        <h3>é«˜çº§é…ç½®</h3>

        <div class="checkbox-group">
          <div class="checkbox-item">
            <input type="checkbox" id="enableHTTPS">
            <label for="enableHTTPS">å¯ç”¨ HTTPS</label>
          </div>
          <div class="checkbox-item">
            <input type="checkbox" id="enableCache" checked>
            <label for="enableCache">å¯ç”¨ç¼“å­˜</label>
          </div>
          <div class="checkbox-item">
            <input type="checkbox" id="enableExpiredIP" checked>
            <label for="enableExpiredIP">å…è®¸è¿‡æœŸ IP</label>
          </div>
        </div>

        <div class="two-columns">
          <div class="form-group">
            <label>è¶…æ—¶æ—¶é—´ (ms)</label>
            <input type="number" id="timeout" value="5000" min="100" step="100">
          </div>
          <div class="form-group">
            <label>æœ€å¤§é‡è¯•æ¬¡æ•°</label>
            <input type="number" id="maxRetries" value="1" min="0" max="5">
          </div>
        </div>

        <div class="divider"></div>

        <h3>é¢„è§£æåŸŸå</h3>
        <div class="form-group">
          <label>åŸŸååˆ—è¡¨ï¼ˆæ¯è¡Œä¸€ä¸ªï¼Œæœ€å¤š100ä¸ªï¼‰</label>
          <textarea id="preResolveDomains" placeholder="ä¾‹å¦‚:&#10;www.taobao.com&#10;www.aliyun.com">www.taobao.com
www.aliyun.com</textarea>
          <span class="hint">é¢„è§£æå¯ä»¥æå‰ç¼“å­˜å¸¸ç”¨åŸŸåï¼Œæå‡é¦–æ¬¡è®¿é—®é€Ÿåº¦</span>
        </div>

        <button class="btn-primary btn-full" onclick="initializeClient()">
          åˆå§‹åŒ– HTTPDNS å®¢æˆ·ç«¯
        </button>

        <div class="result-box" id="configResult"></div>
      </div>

      <!-- Tab 2: åŠŸèƒ½æµ‹è¯• -->
      <div class="tab-pane" id="testPane">
        <div class="form-group">
          <label>åŸŸå *</label>
          <input type="text" id="domain" value="www.baidu.com" placeholder="ä¾‹å¦‚: www.baidu.com">
          <span class="hint">ä¸éœ€è¦è¾“å…¥ http:// æˆ– https:// å‰ç¼€</span>
        </div>

        <div class="divider"></div>

        <h3>DNS è§£æ</h3>
        <div class="form-group">
          <label>æŸ¥è¯¢ç±»å‹</label>
          <div class="radio-group">
            <div class="radio-item">
              <input type="radio" id="queryIPv4" name="queryType" value="4">
              <label for="queryIPv4">ä»… IPv4</label>
            </div>
            <div class="radio-item">
              <input type="radio" id="queryIPv6" name="queryType" value="6">
              <label for="queryIPv6">ä»… IPv6</label>
            </div>
            <div class="radio-item">
              <input type="radio" id="queryBoth" name="queryType" value="4,6" checked>
              <label for="queryBoth">åŒæ ˆ (IPv4+IPv6)</label>
            </div>
          </div>
        </div>

        <button class="btn-success btn-full" onclick="dnsResolve()">
          æ‰§è¡Œ DNS è§£æ
        </button>

        <div class="divider"></div>

        <h3>HTTP è¯·æ±‚æµ‹è¯•</h3>
        <div class="form-group">
          <label>è¯·æ±‚åè®®</label>
          <div class="radio-group">
            <div class="radio-item">
              <input type="radio" id="protocolHTTP" name="protocol" value="http" checked>
              <label for="protocolHTTP">HTTP</label>
            </div>
            <div class="radio-item">
              <input type="radio" id="protocolHTTPS" name="protocol" value="https">
              <label for="protocolHTTPS">HTTPS</label>
            </div>
          </div>
        </div>

        <div class="button-group">
          <button class="btn-danger" onclick="httpRequest()">
            ä½¿ç”¨ HTTPDNS è¯·æ±‚
          </button>
          <button class="btn-secondary" onclick="httpRequestSystemDNS()">
            ä½¿ç”¨ç³»ç»Ÿ DNS è¯·æ±‚ï¼ˆå¯¹ç…§ï¼‰
          </button>
        </div>

        <div class="divider"></div>

        <h3>ç»“æœ</h3>
        <div class="result-box" id="testResult"></div>
      </div>
    </div>
  </div>

  <script>
    let clientInitialized = false;

    // Tab åˆ‡æ¢
    function switchTab(tabName) {
      // æ›´æ–° Tab æŒ‰é’®çŠ¶æ€
      document.querySelectorAll('.tab').forEach(tab => {
        tab.classList.remove('active');
      });
      event.target.classList.add('active');

      // æ›´æ–° Tab å†…å®¹
      document.querySelectorAll('.tab-pane').forEach(pane => {
        pane.classList.remove('active');
      });
      document.getElementById(tabName + 'Pane').classList.add('active');
    }

    // åˆå§‹åŒ–å®¢æˆ·ç«¯
    async function initializeClient() {
      const accountId = document.getElementById('accountId').value.trim();
      if (!accountId) {
        showConfigResult('è¯·è¾“å…¥ Account ID', 'error');
        return;
      }

      const config = {
        accountId,
        secretKey: document.getElementById('secretKey').value.trim() || undefined,
        enableHTTPS: document.getElementById('enableHTTPS').checked,
        enableCache: document.getElementById('enableCache').checked,
        enableExpiredIP: document.getElementById('enableExpiredIP').checked,
        timeout: parseInt(document.getElementById('timeout').value),
        maxRetries: parseInt(document.getElementById('maxRetries').value),
      };

      // é¢„è§£æåŸŸå
      const preResolveDomains = document.getElementById('preResolveDomains').value
        .split('\n')
        .map(d => d.trim())
        .filter(d => d.length > 0);

      showConfigResult('æ­£åœ¨åˆå§‹åŒ–å®¢æˆ·ç«¯...', 'loading');

      try {
        const result = await window.api.initClient(config, preResolveDomains);

        if (result.success) {
          clientInitialized = true;
          const output = formatInitResult(result, config, preResolveDomains);
          showConfigResult(output, 'success');

          // å¯ç”¨æµ‹è¯• Tab
          document.getElementById('testTab').disabled = false;
        } else {
          showConfigResult(`åˆå§‹åŒ–å¤±è´¥: ${result.error}`, 'error');
        }
      } catch (error) {
        showConfigResult(`é”™è¯¯: ${error.message}`, 'error');
      }
    }

    // DNS è§£æ
    async function dnsResolve() {
      if (!clientInitialized) {
        showTestResult('è¯·å…ˆåœ¨"é…ç½®ä¸åˆå§‹åŒ–"é¡µé¢åˆå§‹åŒ–å®¢æˆ·ç«¯', 'error');
        return;
      }

      const domain = document.getElementById('domain').value.trim();
      if (!domain) {
        showTestResult('è¯·è¾“å…¥åŸŸå', 'error');
        return;
      }

      const queryType = document.querySelector('input[name="queryType"]:checked').value;

      showTestResult('æ­£åœ¨è§£æ DNS...', 'loading');

      try {
        const result = await window.api.dnsResolve(domain, queryType);

        if (result.success) {
          const output = formatDNSResult(result);
          showTestResult(output, result.result === null ? '' : 'success');
        } else {
          showTestResult(`DNS è§£æå¤±è´¥: ${result.error}`, 'error');
        }
      } catch (error) {
        showTestResult(`é”™è¯¯: ${error.message}`, 'error');
      }
    }

    // HTTP è¯·æ±‚ï¼ˆä½¿ç”¨ HTTPDNSï¼‰
    async function httpRequest() {
      if (!clientInitialized) {
        showTestResult('è¯·å…ˆåœ¨"é…ç½®ä¸åˆå§‹åŒ–"é¡µé¢åˆå§‹åŒ–å®¢æˆ·ç«¯', 'error');
        return;
      }

      const domain = document.getElementById('domain').value.trim();
      if (!domain) {
        showTestResult('è¯·è¾“å…¥åŸŸå', 'error');
        return;
      }

      const protocol = document.querySelector('input[name="protocol"]:checked').value;
      const url = `${protocol}://${domain}`;

      showTestResult('æ­£åœ¨å‘é€ HTTP è¯·æ±‚ï¼ˆä½¿ç”¨ HTTPDNSï¼‰...', 'loading');

      try {
        const result = await window.api.httpRequest(url);

        if (result.success) {
          const output = formatHTTPResult(result, 'HTTPDNS');
          showTestResult(output, 'success');
        } else {
          showTestResult(`HTTP è¯·æ±‚å¤±è´¥: ${result.error}`, 'error');
        }
      } catch (error) {
        showTestResult(`é”™è¯¯: ${error.message}`, 'error');
      }
    }

    // HTTP è¯·æ±‚ï¼ˆä½¿ç”¨ç³»ç»Ÿ DNSï¼Œå¯¹ç…§æµ‹è¯•ï¼‰
    async function httpRequestSystemDNS() {
      const domain = document.getElementById('domain').value.trim();
      if (!domain) {
        showTestResult('è¯·è¾“å…¥åŸŸå', 'error');
        return;
      }

      const protocol = document.querySelector('input[name="protocol"]:checked').value;
      const url = `${protocol}://${domain}`;

      showTestResult('æ­£åœ¨å‘é€ HTTP è¯·æ±‚ï¼ˆä½¿ç”¨ç³»ç»Ÿ DNSï¼‰...', 'loading');

      try {
        const result = await window.api.httpRequestSystemDNS(url);

        if (result.success) {
          const output = formatHTTPResult(result, 'ç³»ç»Ÿ DNS');
          showTestResult(output, 'success');
        } else {
          showTestResult(`HTTP è¯·æ±‚å¤±è´¥: ${result.error}`, 'error');
        }
      } catch (error) {
        showTestResult(`é”™è¯¯: ${error.message}`, 'error');
      }
    }

    // æ ¼å¼åŒ–åˆå§‹åŒ–ç»“æœ
    function formatInitResult(result, config, domains) {
      const lines = [];
      lines.push('=== å®¢æˆ·ç«¯åˆå§‹åŒ–æˆåŠŸ ===\n');
      lines.push('é…ç½®ä¿¡æ¯:');
      lines.push(`  Account ID: ${config.accountId}`);
      lines.push(`  Secret Key: ${config.secretKey ? 'å·²è®¾ç½®' : 'æœªè®¾ç½®'}`);
      lines.push(`  å¯ç”¨ HTTPS: ${config.enableHTTPS ? 'æ˜¯' : 'å¦'}`);
      lines.push(`  å¯ç”¨ç¼“å­˜: ${config.enableCache ? 'æ˜¯' : 'å¦'}`);
      lines.push(`  å…è®¸è¿‡æœŸ IP: ${config.enableExpiredIP ? 'æ˜¯' : 'å¦'}`);
      lines.push(`  è¶…æ—¶æ—¶é—´: ${config.timeout}ms`);
      lines.push(`  æœ€å¤§é‡è¯•: ${config.maxRetries}æ¬¡\n`);

      if (domains.length > 0) {
        lines.push(`é¢„è§£æåŸŸå (${domains.length}ä¸ª):`);
        domains.forEach((domain, index) => {
          lines.push(`  ${index + 1}. ${domain}`);
        });
        lines.push('');
      }

      lines.push('âœ… å®¢æˆ·ç«¯å·²å°±ç»ªï¼Œå¯ä»¥åˆ‡æ¢åˆ°"åŠŸèƒ½æµ‹è¯•"é¡µé¢è¿›è¡Œæµ‹è¯•');

      return lines.join('\n');
    }

    // æ ¼å¼åŒ– DNS ç»“æœ
    function formatDNSResult(result) {
      const lines = [];
      lines.push('=== DNS è§£æç»“æœ ===\n');
      lines.push(`åŸŸå: ${result.domain}`);
      lines.push(`æŸ¥è¯¢ç±»å‹: ${getQueryTypeName(result.queryType)}`);
      lines.push(`è€—æ—¶: ${result.duration}ms`);
      lines.push(`ç¼“å­˜å‘½ä¸­: ${result.fromCache ? 'âœ… æ˜¯' : 'âŒ å¦'}\n`);
      
      // å¦‚æœ result ä¸º nullï¼Œè¯´æ˜ç¼“å­˜æœªå‘½ä¸­
      if (result.result === null) {
        lines.push('è§£æç»“æœ: æ— ç¼“å­˜');
        return lines.join('\n');
      }
      
      // æ ¹æ®æŸ¥è¯¢ç±»å‹æ˜¾ç¤ºå¯¹åº”ä¿¡æ¯
      if (result.queryType === '4' || result.queryType === '4,6') {
        lines.push(`IPv4 TTL: ${result.result.ipv4Ttl}ç§’`);
        lines.push(`IPv4 è§£ææ—¶é—´: ${new Date(result.result.ipv4Timestamp).toLocaleString()}`);
        lines.push('');
      }
      
      if (result.queryType === '6' || result.queryType === '4,6') {
        lines.push(`IPv6 TTL: ${result.result.ipv6Ttl}ç§’`);
        lines.push(`IPv6 è§£ææ—¶é—´: ${new Date(result.result.ipv6Timestamp).toLocaleString()}`);
        lines.push('');
      }

      // æ ¹æ®æŸ¥è¯¢ç±»å‹æ˜¾ç¤º IPv4 åœ°å€
      if (result.queryType === '4' || result.queryType === '4,6') {
        if (result.result.ipv4 && result.result.ipv4.length > 0) {
          lines.push(`IPv4 åœ°å€ (${result.result.ipv4.length}ä¸ª):`);
          result.result.ipv4.forEach((ip, index) => {
            lines.push(`  ${index + 1}. ${ip}`);
          });
        } else {
          lines.push(`IPv4 åœ°å€: æ— `);
        }
        lines.push('');
      }

      // æ ¹æ®æŸ¥è¯¢ç±»å‹æ˜¾ç¤º IPv6 åœ°å€
      if (result.queryType === '6' || result.queryType === '4,6') {
        if (result.result.ipv6 && result.result.ipv6.length > 0) {
          lines.push(`IPv6 åœ°å€ (${result.result.ipv6.length}ä¸ª):`);
          result.result.ipv6.forEach((ip, index) => {
            lines.push(`  ${index + 1}. ${ip}`);
          });
        } else {
          lines.push(`IPv6 åœ°å€: æ— `);
        }
        lines.push('');
      }

      if (result.result.error) {
        lines.push(`é”™è¯¯ä¿¡æ¯: ${result.result.error.message}`);
      }

      return lines.join('\n');
    }

    // æ ¼å¼åŒ– HTTP ç»“æœ
    function formatHTTPResult(result, dnsType = 'HTTPDNS') {
      const lines = [];
      lines.push(`=== HTTP è¯·æ±‚ç»“æœ (${dnsType}) ===\n`);
      lines.push(`çŠ¶æ€ç : ${result.statusCode} ${result.statusMessage}`);
      lines.push(`è€—æ—¶: ${result.duration}ms`);
      
      if (dnsType === 'HTTPDNS') {
        lines.push(`ä½¿ç”¨ HTTPDNS ç¼“å­˜: ${result.usedHTTPDNS ? 'âœ… æ˜¯' : 'âŒ å¦'}`);
        lines.push(`é™çº§åˆ° Local DNS: ${result.fallbackToLocalDNS ? 'âœ… æ˜¯' : 'âŒ å¦'}`);
        if (result.retriedWithSystemDNS) {
          lines.push(`âš ï¸ é¦–æ¬¡å¤±è´¥åé‡è¯•æˆåŠŸï¼ˆä½¿ç”¨ç³»ç»Ÿ DNSï¼‰`);
        }
      } else {
        lines.push(`DNS ç±»å‹: ç³»ç»Ÿ DNSï¼ˆå¯¹ç…§æµ‹è¯•ï¼‰`);
      }
      
      if (result.resolvedIP) {
        lines.push(`è§£æåˆ°çš„ IP: ${result.resolvedIP}`);
      }
      lines.push('');

      lines.push('å“åº”å¤´:');
      Object.entries(result.headers).forEach(([key, value]) => {
        lines.push(`  ${key}: ${value}`);
      });

      lines.push('\nå“åº”ä½“ (å‰1000å­—ç¬¦):');
      lines.push('â”€'.repeat(50));
      lines.push(result.body);
      lines.push('â”€'.repeat(50));

      return lines.join('\n');
    }

    function getQueryTypeName(type) {
      const map = {
        '4': 'ä»… IPv4',
        '6': 'ä»… IPv6',
        '4,6': 'åŒæ ˆ (IPv4+IPv6)'
      };
      return map[type] || type;
    }

    function showConfigResult(text, type = '') {
      const box = document.getElementById('configResult');
      box.textContent = text;
      box.className = `result-box ${type}`;
    }

    function showTestResult(text, type = '') {
      const box = document.getElementById('testResult');
      box.textContent = text;
      box.className = `result-box ${type}`;
    }
  </script>
</body>

</html>